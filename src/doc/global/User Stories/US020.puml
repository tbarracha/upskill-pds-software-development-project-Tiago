@startuml
actor Receptionist as Reception

Reception -> System: Register SNS User
activate System

System -> System: Display Form for SNS User Registration
alt Form displayed
    Reception -> System: Enter User Details\n(Name, Birth Date, Sex, Address, Phone, Email, Citizen Card, SNS User Number)
    alt All details entered
        System -> System: Validate Required Details\n(Except Sex)
        alt Required details valid
            System -> System: Validate Optional Details\n(Sex)
            alt Optional details valid
                System -> System: Validate Format\n(Phone Number, Citizen Card Number)
                alt Format valid
                    System -> System: Check Uniqueness\n(Phone, Email, Citizen Card, SNS User Number)
                    alt Uniqueness check passed
                        System -> Database: Save SNS User Details
                        Database --> System: Confirmation Message
                        System --> Reception: Success Message
                    else Uniqueness check failed
                        System --> Reception: Error Message\n(Duplicate Details)
                    end
                else Format invalid
                    System --> Reception: Error Message\n(Invalid Format)
                end
            else Optional details invalid
                System --> Reception: Error Message\n(Invalid Sex)
            end
        else Required details missing or invalid
            System --> Reception: Error Message\n(Missing or Invalid Required Details)
        end
    else Not all details entered
        System --> Reception: Error Message\n(Missing Details)
    end
else Form not displayed
    System --> Reception: Error Message\n(Failed to Display Form)
end

deactivate System
@enduml
